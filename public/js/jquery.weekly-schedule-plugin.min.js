!function(e){e.fn.weekly_schedule=function(t){function o(t){for(var o=e(t).attr("class").split(" ")[1],n=e(".day"),i=0;i<n.length;i++)if(!e(n[i]).hasClass(o))for(var d=e(n[i]).children(),l=0;l<d.length;l++)e(d[l]).addClass("disabled");e(t).on("mouseleave",function(){r(),a=!1,s=!1})}function r(){for(var t=e(".day"),o=0;o<t.length;o++)for(var r=e(t[o]).children(),n=0;n<r.length;n++)e(r[n]).removeClass("disabled")}var n=e.extend({days:["sun","mon","tue","wed","thu","fri","sat"],hours:"7:00AM-10:00PM",fontFamily:"Roboto",fontColor:"black",fontWeight:"100",fontSize:"0.8em",hoverColor:"#727bad",selectionColor:"#9aa7ee",headerBackgroundColor:"transparent",onSelected:function(){},onRemoved:function(){}},t||{});n.hoursParsed=function(e){var t=[],o=e.toUpperCase().split("-"),r=parseInt(o[0].split(":")[0]),n=parseInt(o[1].split(":")[0]),a=o[0].includes("PM")?r+12:r,s=o[1].includes("PM")?n+12:n,i=a;for(i;i<=s;i++){var d="";d+=i>12?(i-12).toString()+":00PM":12==i?i.toString()+":00PM":i.toString()+":00AM",t.push(d)}return t}(n.hours);var a=!1,s=!1,i=this;if("string"==typeof t)switch(t){case"getSelectedHour":return function(){for(var t=e(".day"),o={},r=0;r<t.length;r++){for(var n=e(t[r]).children(),a=[],s=0;s<n.length;s++)e(n[s]).hasClass("selected")&&a.push(n[s]);o[r]=a}return o}();default:throw"Weekly schedule method unrecognized!"}else{var d=n.days,l=n.hoursParsed;e(i).addClass("schedule");var h=e("<div></div>",{class:"header"}),c=e("<div></div>",{class:"align-block"});h.append(c);for(m=0;m<d.length;++m){var u=e("<div></div>",{class:"header-item "+d[m]+"-header"}),p=e("<h3>"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(d[m])+"</h3>");u.append(p),h.append(u)}var f=e("<div></div>",{class:"days-wrapper"}),g=e("<div></div>",{class:"hour-header"});f.append(g);for(m=0;m<l.length;m++){var v=e("<div></div>",{class:"hour-header-item "+l[m]}),p=e("<h5>"+l[m]+"</h5>");v.append(p),g.append(v)}for(var m=0;m<d.length;m++){for(var C=e("<div></div>",{class:"day "+d[m]}),y=0;y<l.length;y++){var x=e("<div></div>",{class:"hour "+l[y]});C.append(x)}f.append(C)}e(i).append(h),e(i).append(f),e(".schedule").css({width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start"}),e(".header").css({height:"30px",width:"100%",background:n.headerBackgroundColor,marginBottom:"5px",display:"flex",flexDirection:"row"}),e(".align-block").css({width:"60%",height:"100%",background:n.headerBackgroundColor,margin:"3px"}),e(".header-item").css({width:"100%",height:"100%",margin:"2px"}),e(".header-item h3").css({margin:0,textAlign:"center",verticalAlign:"middle",position:"relative",top:"50%",color:n.fontColor,fontFamily:"Roboto, sans-serif",fontSize:n.fontSize,fontWeight:n.fontWeight,transform:"translateY(-50%)",userSelect:"none"}),e(".hour-header").css({display:"flex",flexDirection:"column",margin:"2px",marginRight:"1px",background:n.headerBackgroundColor,width:"60%"}),e(".days-wrapper").css({width:"100%",height:"100%",background:"transparent",display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative"}),e(".hour-header-item").css({width:"100%",height:"100%",border:"none",borderColor:"none",borderStyle:"none"}),e(".hour-header-item h5").css({color:n.fontColor,margin:"0",textAlign:"right",verticalAlign:"middle",position:"relative",fontFamily:"Roboto, sans-serif",fontSize:n.fontSize,fontWeight:n.fontWeight,paddingRight:"10%",userSelect:"none"}),e(".day").css({display:"flex",flexDirection:"column",marginRight:"1px",marginBottom:"1px",background:"transparent",width:"100%"}),e(".hour").css({background:"#dddddd",marginBottom:"1px",width:"100%",height:"100%",userSelect:"none"}),e("<style type='text/css' scoped> .hover { background: "+n.hoverColor+" !important;} .selected { background: "+n.selectionColor+" !important; } .disabled { pointer-events: none !important; opacity: 0.3 !important; box-shadow: none !important; }</style>").appendTo(i),e(".schedule").on("contextmenu",function(){return!1}),e(".hour").on("mouseenter",function(){a?s?e(this).removeClass("selected"):e(this).addClass("selected"):e(this).addClass("hover")}).on("mousedown",function(){a=!0,o(e(this).parent()),e(this).hasClass("selected")?(i.trigger("selectionremoved"),e(this).removeClass("selected"),s=!0):(i.trigger("selectionmade"),e(this).addClass("selected")),e(this).removeClass("hover")}).on("mouseup",function(){s=!1,a=!1,r()}).on("mouseleave",function(){a||e(this).removeClass("hover")})}}}(jQuery);